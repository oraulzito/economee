<nz-card [nzExtra]="addAction" [nzLoading]="loadingBalance && loadingAccount && loadingReleases" [nzTitle]="title"
         class="releases-panel w-100">
  <div *ngIf="hasData">
    <div *ngIf="id === 1" nz-row>
      <div nz-col nzSm="24">
        <!-- Release Income/Releases -->
        <nz-progress [nzPercent]="'100'" [nzShowInfo]="false"
                     [nzSuccessPercent]="expensesPercentage" [nzType]="'line'"></nz-progress>
      </div>
      <div nz-col nzSm="24">
        <div nz-row>
          <div nz-col nzSm="12">
            <p>Total Gasto
              <br>
              {{account.currency['symbol']}}{{balance.total_releases_expenses}}
            </p>
          </div>
          <div nz-col nzSm="12">
            <p class="text-end">
              Total recebido
              <br>
              {{account.currency['symbol']}}{{balance.total_releases_incomes}}
            </p>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="id === 2 && !loadingCard && !loadingInvoice " nz-row>
      <div nz-col nzSm="24">
        <!-- Card Available/Spent credit -->
        <nz-progress [nzPercent]="'100'" [nzShowInfo]="false"
                     [nzSuccessPercent]="expensesPercentage" [nzType]="'line'"></nz-progress>
      </div>
      <div nz-col nzSm="24">
        <div nz-row>
          <div nz-col nzSm="12">
            <p>Crédito Gasto
              <br>
              {{account.currency['symbol']}}{{invoice.total_card_expenses}}
            </p>
          </div>
          <div nz-col nzSm="12">
            <p class="text-end">
              Crédito total
              <br>
              {{account.currency['symbol']}}{{card.credit}}
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Release Card -->

    <div class="overflow-auto vh-50" id="releasesList">
      <app-releases-card (save)="addEvent($event)" [add]="true"
                         [currency]="account.currency['symbol']"></app-releases-card>
      <div *ngFor="let r of releases">
        <app-releases-card [add]="false" [currency]="account.currency['symbol']" [release]="r"></app-releases-card>
      </div>
    </div>
  </div>

  <!-- No release info -->
  <div *ngIf="!hasData">
    <app-no-data [actionText]="actionText" [text]="text" [type]="type"></app-no-data>
  </div>
</nz-card>
<ng-template #addAction>
  <button (click)="addRelease()" class="border-0" nz-button>
    <i nz-icon nzTheme="outline" nzType="plus-circle"></i>
  </button>
</ng-template>
