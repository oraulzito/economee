<nz-card class="shadow card-release m-2">
  <form [formGroup]="releaseForm" nz-form>
    <div nz-row>
      <div nz-col nzSm="12">
        <h6>
          <nz-form-item>
            <nz-input-group>
              <input
                formControlName="description" type="text">
            </nz-input-group>
          </nz-form-item>
        </h6>
      </div>
      <div nz-col nzSm="12">
        <div class="float-end">
          <button (click)="save()" nz-button>
            <i nz-icon nzTheme="outline" nzType="plus"></i> Adicionar
          </button>
        </div>
      </div>
    </div>
    <div nz-row>
      <div nz-col nzSm="12">
        <h6>
          <nz-form-item>
            <nz-input-group [nzPrefix]="prefixCurrency">
              <input formControlName="value" type="number">
            </nz-input-group>
            <ng-template #prefixCurrency>
              {{currency}}
            </ng-template>
          </nz-form-item>
        </h6>
      </div>
      <div nz-col nzSm="12">
        <nz-form-item class="float-end">
          <nz-input-group>
            <!-- FIXME find a way to put date as dd/MMMM/YYYY -->
            <input formControlName="date_release" type="date">
          </nz-input-group>
        </nz-form-item>
      </div>
    </div>
    <div nz-row>
      <div nz-col nzSm="16">
        <nz-form-item>
          <nz-input-group class="w-100">
            <input

              formControlName="place"
              placeholder="Local" type="text">
          </nz-input-group>
        </nz-form-item>
      </div>
      <div nz-col nzSm="8">
        <nz-form-item class="float-end">
          <nz-input-group class="w-50">
            <input formControlName="repeat_times" placeholder="Número de repetições" type="number">
          </nz-input-group>
        </nz-form-item>
      </div>
    </div>
    <div nz-row>
      <div class="m-auto" nz-col nzSm="7">
        <nz-form-item>
          <nz-select [nzDropdownRender]="renderTemplate" class="category" formControlName="category_id">
            <nz-option *ngFor="let c of categories" [nzLabel]=c.name [nzValue]=c.id></nz-option>
          </nz-select>
          <ng-template #renderTemplate>
            <nz-spin *ngIf="categoriesLoading"></nz-spin>
          </ng-template>
        </nz-form-item>
      </div>

      <div class="m-auto" nz-col nzSm="7">
        <nz-form-item>
          <nz-select
            class="type"
            formControlName="type">
            <nz-option [nzLabel]="'Gasto'" [nzValue]="'ER'"></nz-option>
            <nz-option [nzLabel]="'Ganho'" [nzValue]="'IR'"></nz-option>
          </nz-select>
        </nz-form-item>
      </div>

      <div class="m-auto" nz-col nzSm="7">
        <nz-form-item>
          <nz-select
            class="paid"
            formControlName="is_release_paid">
            <nz-option [nzLabel]="'Pago'" [nzValue]=true></nz-option>
            <nz-option [nzLabel]="'Não Pago'" [nzValue]="false"></nz-option>
          </nz-select>
        </nz-form-item>
      </div>
    </div>
  </form>
</nz-card>
